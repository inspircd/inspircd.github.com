<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>InspIRCd: CommandBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">InspIRCd
   &#160;<span id="projectnumber">3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_command_base-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CommandBase Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="ctables_8h_source.html">ctables.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CommandBase:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_command_base.png" usemap="#CommandBase_map" alt=""/>
  <map id="CommandBase_map" name="CommandBase_map">
<area href="class_service_provider.html" alt="ServiceProvider" shape="rect" coords="0,56,105,80"/>
<area href="classclassbase.html" alt="classbase" shape="rect" coords="0,0,105,24"/>
<area href="class_command.html" alt="Command" shape="rect" coords="0,168,105,192"/>
<area href="class_split_command.html" alt="SplitCommand" shape="rect" coords="0,224,105,248"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_base_1_1_params.html">Params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:add9275e896ec5a527d9fcd47c9b47430"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_base.html#add9275e896ec5a527d9fcd47c9b47430">CommandBase</a> (<a class="el" href="class_module.html">Module</a> *me, const std::string &amp;cmd, unsigned int minpara=0, unsigned int maxpara=0)</td></tr>
<tr class="separator:add9275e896ec5a527d9fcd47c9b47430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d0453356b90a1760f99ca30ddd0c60"><td class="memItemLeft" align="right" valign="top"><a id="ac2d0453356b90a1760f99ca30ddd0c60"></a>
virtual <a class="el" href="struct_route_descriptor.html">RouteDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GetRouting</b> (<a class="el" href="class_user.html">User</a> *user, const <a class="el" href="class_command_base_1_1_params.html">CommandBase::Params</a> &amp;parameters)</td></tr>
<tr class="separator:ac2d0453356b90a1760f99ca30ddd0c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ccd01afa6708aa696a2ab560d09f859"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_base.html#a7ccd01afa6708aa696a2ab560d09f859">EncodeParameter</a> (std::string &amp;parameter, unsigned int index)</td></tr>
<tr class="separator:a7ccd01afa6708aa696a2ab560d09f859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_service_provider"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_service_provider')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_service_provider.html">ServiceProvider</a></td></tr>
<tr class="memitem:a3e7e92ecd0683a0b4348b8fd14eb734b inherit pub_methods_class_service_provider"><td class="memItemLeft" align="right" valign="top"><a id="a3e7e92ecd0683a0b4348b8fd14eb734b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ServiceProvider</b> (<a class="el" href="class_module.html">Module</a> *Creator, const std::string &amp;Name, ServiceType Type)</td></tr>
<tr class="separator:a3e7e92ecd0683a0b4348b8fd14eb734b inherit pub_methods_class_service_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bf645cadb13d1f3ac64fed93c879bd inherit pub_methods_class_service_provider"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service_provider.html#a89bf645cadb13d1f3ac64fed93c879bd">GetTypeString</a> () const</td></tr>
<tr class="separator:a89bf645cadb13d1f3ac64fed93c879bd inherit pub_methods_class_service_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed77d91b39d5df569be84172e50e4cc4 inherit pub_methods_class_service_provider"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service_provider.html#aed77d91b39d5df569be84172e50e4cc4">RegisterService</a> ()</td></tr>
<tr class="separator:aed77d91b39d5df569be84172e50e4cc4 inherit pub_methods_class_service_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87185e6ebfa0f4960f20797e716c72d6 inherit pub_methods_class_service_provider"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service_provider.html#a87185e6ebfa0f4960f20797e716c72d6">DisableAutoRegister</a> ()</td></tr>
<tr class="separator:a87185e6ebfa0f4960f20797e716c72d6 inherit pub_methods_class_service_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classclassbase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classclassbase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classclassbase.html">classbase</a></td></tr>
<tr class="memitem:a2a773ec2f42d047e0ce250553f44d831 inherit pub_methods_classclassbase"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_cull_result.html">CullResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclassbase.html#a2a773ec2f42d047e0ce250553f44d831">cull</a> ()</td></tr>
<tr class="separator:a2a773ec2f42d047e0ce250553f44d831 inherit pub_methods_classclassbase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a38cbd8f82b4d588a1605489c80f7f8e9"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_base.html#a38cbd8f82b4d588a1605489c80f7f8e9">min_params</a></td></tr>
<tr class="separator:a38cbd8f82b4d588a1605489c80f7f8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fa0ef258dad7c3a87ec6b0bbd835b1"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_base.html#a57fa0ef258dad7c3a87ec6b0bbd835b1">max_params</a></td></tr>
<tr class="separator:a57fa0ef258dad7c3a87ec6b0bbd835b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa608bb2c13a1f0d95291303396d9f27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_base.html#aaa608bb2c13a1f0d95291303396d9f27">allow_empty_last_param</a></td></tr>
<tr class="separator:aaa608bb2c13a1f0d95291303396d9f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196781288c603e97eab9b778ee892bc3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; TranslateType &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_base.html#a196781288c603e97eab9b778ee892bc3">translation</a></td></tr>
<tr class="separator:a196781288c603e97eab9b778ee892bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_class_service_provider"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_service_provider')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_service_provider.html">ServiceProvider</a></td></tr>
<tr class="memitem:ad1dfa94bef361c61dfadefff1454bef9 inherit pub_attribs_class_service_provider"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classreference.html">ModuleRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service_provider.html#ad1dfa94bef361c61dfadefff1454bef9">creator</a></td></tr>
<tr class="separator:ad1dfa94bef361c61dfadefff1454bef9 inherit pub_attribs_class_service_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dace4b64886f5cabd5a406d0f9e7e11 inherit pub_attribs_class_service_provider"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service_provider.html#a1dace4b64886f5cabd5a406d0f9e7e11">name</a></td></tr>
<tr class="separator:a1dace4b64886f5cabd5a406d0f9e7e11 inherit pub_attribs_class_service_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398d7fbc50d368467964f93bd093aabd inherit pub_attribs_class_service_provider"><td class="memItemLeft" align="right" valign="top">const ServiceType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_service_provider.html#a398d7fbc50d368467964f93bd093aabd">service</a></td></tr>
<tr class="separator:a398d7fbc50d368467964f93bd093aabd inherit pub_attribs_class_service_provider"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A structure that defines a command. Every command available in <a class="el" href="class_insp_i_r_cd.html">InspIRCd</a> must be defined as derived from <a class="el" href="class_command.html">Command</a>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="add9275e896ec5a527d9fcd47c9b47430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add9275e896ec5a527d9fcd47c9b47430">&#9670;&nbsp;</a></span>CommandBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CommandBase::CommandBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_module.html">Module</a> *&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minpara</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>maxpara</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new command. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">me</td><td>The module which created this command. </td></tr>
    <tr><td class="paramname">cmd</td><td><a class="el" href="class_command.html">Command</a> name. This must be UPPER CASE. </td></tr>
    <tr><td class="paramname">minpara</td><td>Minimum parameters required for the command. </td></tr>
    <tr><td class="paramname">maxpara</td><td>Maximum number of parameters this command may have - extra parameters will be tossed into one last space-separated param. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7ccd01afa6708aa696a2ab560d09f859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ccd01afa6708aa696a2ab560d09f859">&#9670;&nbsp;</a></span>EncodeParameter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CommandBase::EncodeParameter </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>parameter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Encode a parameter for server-&gt;server transmission. Used for parameters for which the translation type is TR_CUSTOM. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameter</td><td>The parameter to encode. Can be modified in place. </td></tr>
    <tr><td class="paramname">index</td><td>The parameter index (0 == first parameter). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aaa608bb2c13a1f0d95291303396d9f27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa608bb2c13a1f0d95291303396d9f27">&#9670;&nbsp;</a></span>allow_empty_last_param</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CommandBase::allow_empty_last_param</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True if the command allows an empty last parameter. When false and the last parameter is empty, it's popped BEFORE checking there are enough params, etc. (i.e. the handler won't be called if there aren't enough params after popping the empty param). True by default </p>

</div>
</div>
<a id="a57fa0ef258dad7c3a87ec6b0bbd835b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57fa0ef258dad7c3a87ec6b0bbd835b1">&#9670;&nbsp;</a></span>max_params</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int CommandBase::max_params</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of parameters command takes. This is used by the command parser to join extra parameters into one last param. If not set, no munging is done to this command. </p>

</div>
</div>
<a id="a38cbd8f82b4d588a1605489c80f7f8e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38cbd8f82b4d588a1605489c80f7f8e9">&#9670;&nbsp;</a></span>min_params</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int CommandBase::min_params</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Minimum number of parameters command takes </p>

</div>
</div>
<a id="a196781288c603e97eab9b778ee892bc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a196781288c603e97eab9b778ee892bc3">&#9670;&nbsp;</a></span>translation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TranslateType&gt; CommandBase::translation</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Translation type list for possible parameters, used to tokenize parameters into UIDs and SIDs etc. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="ctables_8h_source.html">ctables.h</a></li>
<li>src/commands.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
